datasource db {
    // could be postgresql or mysql
    provider = "postgres"
    url      = env("DATABASE_URL")
}

generator db {
    provider = "go run github.com/steebchen/prisma-client-go"
}

model User {
    id        String    @id @default(cuid())
    name      String
    email     String    @unique
    password  String?
    createdAt DateTime  @default(now())
    updatedAt DateTime  @updatedAt
    Message   Message[]
    chats     Chat[]
    chatId    String?
}

model Trip {
    id      String @default(cuid())
    chat_id String @unique
    chat    Chat   @relation(fields: [chat_id], references: [id], onDelete: Cascade)
}

model Chat {
    id      String    @id @default(cuid())
    date    DateTime  @default(now())
    name    String
    trip    Trip?
    users   User[]
    Message Message[]
}

model Message {
    id         String   @id @default(cuid())
    content    String
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt
    chat_id    String
    chat       Chat     @relation(fields: [chat_id], references: [id], onDelete: Cascade)
    user_id    String
    user       User     @relation(fields: [user_id], references: [id], onDelete: Cascade)
}
